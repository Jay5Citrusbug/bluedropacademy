# Test info

- Name: BlueDrop test cases >> TC_10: Wait 10 min
- Location: D:\Playwright\Bluedrop_academy\tests\No_Activity.spec.ts:68:9

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('text=היי! לא ראינו פעילות ב-10 הדקות האחרונות. רוצה להמשיך בשיחה? פשוט לחץ על כפתור המשך שיחה למטה.')
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for locator('text=היי! לא ראינו פעילות ב-10 הדקות האחרונות. רוצה להמשיך בשיחה? פשוט לחץ על כפתור המשך שיחה למטה.')

    at chatbotPage.Wait (D:\Playwright\Bluedrop_academy\tests\Pages\chatbotPage.ts:214:168)
    at D:\Playwright\Bluedrop_academy\tests\No_Activity.spec.ts:69:9
```

# Test source

```ts
  114 |
  115 |   await frameLocator.locator(Chatbotlocator.ScrollingBtn).isVisible();
  116 |   await frameLocator.locator(Chatbotlocator.ScrollingBtn).click();
  117 |   await expect(frameLocator.getByText(Chatbotlocator.VerifyBottomTxt)).toBeVisible();
  118 |
  119 |   }
  120 |
  121 |   async Pagereload() {
  122 |
  123 |     // Re-locate the iframe after reload
  124 |     const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  125 |     
  126 |     // Assert that no bot messages are present after reload
  127 |     const botMessages = await frameLocator.locator('.system-message-text');
  128 |     
  129 |     // ✅ Assert that it is **not visible**
  130 |     await expect(botMessages).toHaveCount(0); // Meaning no messages are shown
  131 |     
  132 |     console.log('✅ Verified: Bot responses are cleared after reload.');
  133 |   
  134 |     }
  135 |
  136 |     async NewsesionChatbotPage() {
  137 |       const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  138 |     
  139 |       // Assert that no bot messages are present after reload
  140 |       const botMessages = await frameLocator.locator('.system-message-text');
  141 |
  142 |       await botMessages.getByTestId(Chatbotlocator.NewsessionBtn).isVisible();
  143 |       await botMessages.getByTestId(Chatbotlocator.NewsessionBtn).click();
  144 |       
  145 |
  146 | }
  147 |
  148 | async OpenHamburgerMenu() {
  149 |         
  150 |
  151 |   const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  152 | const iconButtons = frameLocator.getByRole('button', { name: 'icon' }).nth(2);
  153 |
  154 | await iconButtons.isVisible();
  155 | await iconButtons.click( { force: true });
  156 | await frameLocator.getByRole('button', { name: 'Close' }).isVisible();
  157 | await frameLocator.getByTestId('start-new-session').isVisible();
  158 | }
  159 |
  160 | async LoadmoreBtn() {
  161 |   const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  162 |
  163 |   await frameLocator.locator(Chatbotlocator.LoadMoreBtn).isVisible();
  164 |   await frameLocator.locator(Chatbotlocator.LoadMoreBtn).click();
  165 |   //const sessionList = this.page.locator('ul.session-list');
  166 |  // await expect(sessionList).toBeVisible();
  167 |   }
  168 |
  169 |
  170 |   async SearchHistory() {
  171 |     const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  172 |     await frameLocator.locator(Chatbotlocator.Searchbar).isVisible();
  173 |     const frame = this.page.frameLocator(Chatbotlocator.iframeName);
  174 | const input = frame.locator(Chatbotlocator.Searchbar);
  175 |
  176 | await expect(input).toBeVisible();
  177 | await input.click({ force: true }); // optional if needed
  178 | await input.fill(this.userMessage);
  179 | //await expect(sessionList).toHaveText(this.userMessage);
  180 |     }
  181 |   
  182 |     async NoSearchHistory() {
  183 |       const userMessage = generateRandomQuestion()
  184 |       const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  185 |       await frameLocator.locator(Chatbotlocator.Searchbar).clear();
  186 |       await frameLocator.locator(Chatbotlocator.Searchbar).fill(userMessage);
  187 |       await expect(frameLocator.getByText('לא נמצאה שיחה')).toBeVisible();
  188 |       }
  189 |     
  190 | async CloseHamburgerMenu() {
  191 | const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  192 | await frameLocator.getByRole('button', { name: 'Close' }).isVisible();
  193 | await frameLocator.getByRole('button', { name: 'Close' }).click();
  194 | }
  195 |
  196 | async Newsession() {
  197 | const frameLocator = this.page.frameLocator(Chatbotlocator.iframeName);
  198 | const HamburgericonButtons = frameLocator.getByRole('button', { name: 'icon' });
  199 |
  200 | await HamburgericonButtons.nth(2).click();
  201 |
  202 | await frameLocator.getByTestId('start-new-session').isVisible();
  203 | await frameLocator.getByTestId('start-new-session').click();
  204 | }
  205 |
  206 | async Wait() {
  207 |   console.log('Waiting for 10 minutes...');
  208 |   this.page.setDefaultTimeout(11 * 60 * 1000);
  209 |
  210 |   // Optional: increase timeout for Playwright actions (e.g., expect)
  211 |   this.page.setDefaultTimeout(60 * 1000); // 1 minute timeout for actions
  212 |
  213 |   await this.page.waitForTimeout(10 * 60 * 1000); // wait 10 minutes
> 214 |   console.log('Wait complete!');await expect(this.page.locator('text=היי! לא ראינו פעילות ב-10 הדקות האחרונות. רוצה להמשיך בשיחה? פשוט לחץ על כפתור המשך שיחה למטה.')).toBeVisible();
      |                                                                                                                                                                        ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  215 |
  216 |
  217 |   }
  218 |
  219 | }
```