# Test info

- Name: Login Test Suite >> Login to chatbot and answer questions
- Location: D:\Playwright\Bluedrop_academy\tests\Main.spec.ts:32:7

# Error details

```
Error: expect.toBeVisible: Error: strict mode violation: getByRole('cell', { name: '0', exact: true }) resolved to 10 elements:
    1) <td class="ant-table-cell ant-table-cell-row-hover">0</td> aka locator('.ant-table-row > td:nth-child(4)').first()
    2) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(3) > td:nth-child(4)')
    3) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(4) > td:nth-child(4)')
    4) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(5) > td:nth-child(4)')
    5) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(6) > td:nth-child(4)')
    6) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(7) > td:nth-child(4)')
    7) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(8) > td:nth-child(4)')
    8) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(9) > td:nth-child(4)')
    9) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(10) > td:nth-child(4)')
    10) <td class="ant-table-cell">0</td> aka locator('tr:nth-child(11) > td:nth-child(4)')

Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for getByRole('cell', { name: '0', exact: true })

    at AdminPage.resetUserData (D:\Playwright\Bluedrop_academy\tests\Pages\AdminPage.ts:40:29)
    at D:\Playwright\Bluedrop_academy\tests\Main.spec.ts:20:5
```

# Page snapshot

```yaml
- paragraph: User data reset successfully
- button:
  - img
- paragraph: Logged in successfully
- button:
  - img
- complementary:
  - menu:
    - menuitem "Dashboard Dashboard":
      - img "Dashboard"
      - text: Dashboard
    - menuitem "Training Data Training Data":
      - img "Training Data"
      - text: Training Data
    - menuitem "User Data User Data":
      - img "User Data"
      - text: User Data
  - img "left"
- banner:
  - heading "Admin Panel" [level=5]
  - img "user"
  - text: Admin User
- main:
  - heading "User Statistics" [level=4]
  - textbox "Start date"
  - img "swap-right"
  - textbox "End date"
  - img "calendar"
  - searchbox "Search by Email": qa@yopmail.com
  - button "search":
    - img "search"
  - table:
    - rowgroup:
      - row "Email User Registered at Plan Usage Subscription Gender Name Reset User Data":
        - cell
        - columnheader "Email"
        - columnheader "User Registered at"
        - columnheader "Plan Usage"
        - columnheader "Subscription"
        - columnheader "Gender"
        - columnheader "Name"
        - columnheader "Reset User Data"
    - rowgroup:
      - row "Expand row jainil.citrusbug@gmail.com 22-04-2025 07:18:50 PM 0 No plan Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "jainil.citrusbug@gmail.com"
        - cell "22-04-2025 07:18:50 PM"
        - cell "0"
        - cell "No plan"
        - cell
        - cell
        - cell "Reset":
          - button "Reset"
      - row "Expand row punam.citrusbug@gmail.com 15-04-2025 06:42:51 PM 0 No plan Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "punam.citrusbug@gmail.com"
        - cell "15-04-2025 06:42:51 PM"
        - cell "0"
        - cell "No plan"
        - cell
        - cell
        - cell "Reset":
          - button "Reset"
      - row "Expand row viral.citrusbug@gmail.com 22-04-2025 11:05:14 AM 0 No plan Male Viral Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "viral.citrusbug@gmail.com"
        - cell "22-04-2025 11:05:14 AM"
        - cell "0"
        - cell "No plan"
        - cell "Male"
        - cell "Viral"
        - cell "Reset":
          - button "Reset"
      - row "Expand row onmyown0811@gmail.com 28-04-2025 12:38:20 PM 0 No plan Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "onmyown0811@gmail.com"
        - cell "28-04-2025 12:38:20 PM"
        - cell "0"
        - cell "No plan"
        - cell
        - cell
        - cell "Reset":
          - button "Reset"
      - row "Expand row QA@yopmail.com 23-04-2025 04:24:52 PM 0 No plan Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "QA@yopmail.com"
        - cell "23-04-2025 04:24:52 PM"
        - cell "0"
        - cell "No plan"
        - cell
        - cell
        - cell "Reset":
          - button "Reset"
      - row "Expand row test@yopmail.com 25-04-2025 03:03:57 PM 0 No plan Male Test Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "test@yopmail.com"
        - cell "25-04-2025 03:03:57 PM"
        - cell "0"
        - cell "No plan"
        - cell "Male"
        - cell "Test"
        - cell "Reset":
          - button "Reset"
      - row "Expand row chills30072002@gmail.com 21-04-2025 04:19:30 PM 0 No plan Male Chills Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "chills30072002@gmail.com"
        - cell "21-04-2025 04:19:30 PM"
        - cell "0"
        - cell "No plan"
        - cell "Male"
        - cell "Chills"
        - cell "Reset":
          - button "Reset"
      - row "Expand row jayrathod@yopmail.com 14-04-2025 05:04:27 PM 0 No plan Female QA Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "jayrathod@yopmail.com"
        - cell "14-04-2025 05:04:27 PM"
        - cell "0"
        - cell "No plan"
        - cell "Female"
        - cell "QA"
        - cell "Reset":
          - button "Reset"
      - row "Expand row tejaspatelatc194@gmail.com 18-04-2025 11:32:16 AM 0 No plan Female vrutti Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "tejaspatelatc194@gmail.com"
        - cell "18-04-2025 11:32:16 AM"
        - cell "0"
        - cell "No plan"
        - cell "Female"
        - cell "vrutti"
        - cell "Reset":
          - button "Reset"
      - row "Expand row manthan.citrusbug@gmail.com 22-04-2025 12:05:31 PM 0 No plan Male manthan Reset":
        - cell "Expand row":
          - button "Expand row"
        - cell "manthan.citrusbug@gmail.com"
        - cell "22-04-2025 12:05:31 PM"
        - cell "0"
        - cell "No plan"
        - cell "Male"
        - cell "manthan"
        - cell "Reset":
          - button "Reset"
  - list:
    - listitem "Previous Page":
      - button "left" [disabled]:
        - img "left"
    - listitem "1"
    - listitem "2"
    - listitem "3"
    - listitem "4"
    - listitem "5"
    - listitem "Next 5 Pages":
      - img "double-right"
      - text: •••
    - listitem "18"
    - listitem "Next Page":
      - button "right":
        - img "right"
```

# Test source

```ts
   1 | import { Page, expect } from '@playwright/test';
   2 | import { adminPageLocators } from '../Locators/AdminpageLocator'; // Import the locators from the new file
   3 | import { testUserData } from '../Utils/testData'; // Import the test data
   4 |
   5 |
   6 | export class AdminPage {
   7 |   readonly page: Page;
   8 |
   9 |   constructor(page: Page) {
  10 |     this.page = page;
  11 |   }
  12 |
  13 |   async goto() {
  14 |     await this.page.goto('https://stg-chat.bluedropacademy.com/admin/');
  15 |   }
  16 |
  17 |   async login(email: string, password: string) {
  18 |     await this.page.getByRole('textbox', { name: adminPageLocators.emailInput.name }).fill(email);
  19 |     await this.page.getByRole('textbox', { name: adminPageLocators.passwordInput.name }).fill(password);
  20 |     await this.page.getByRole('button', { name: adminPageLocators.signInButton.name }).click();
  21 |   }
  22 |
  23 |   async resetUserData(userEmail: string) {
  24 |     await this.page.getByText(adminPageLocators.userDataTab.text).click();
  25 |     await this.page.getByRole('searchbox', { name: adminPageLocators.searchBox.name }).click();
  26 |     await this.page.getByRole('searchbox', { name: adminPageLocators.searchBox.name }).fill(userEmail);
  27 |     await this.page.locator(adminPageLocators.resetButton.xpath).click();
  28 |
  29 |     await expect(
  30 |       this.page.locator('div').filter({ hasText: adminPageLocators.successMessage.text }).nth(3)
  31 |     ).toBeVisible();
  32 |
  33 |     // Refresh and confirm reset
  34 |     await this.page.getByRole('searchbox', { name: adminPageLocators.searchBox.name }).clear();
  35 |     await this.page.getByRole('searchbox', { name: adminPageLocators.searchBox.name }).fill(userEmail);
  36 |     await this.page.locator('.ant-card-body').waitFor();
  37 |     await this.page.getByRole('cell', { name: testUserData.email }).waitFor();
  38 |
  39 |     const usageCell = this.page.getByRole('cell', { name: '0', exact: true });
> 40 |     await expect(usageCell).toBeVisible()
     |                             ^ Error: expect.toBeVisible: Error: strict mode violation: getByRole('cell', { name: '0', exact: true }) resolved to 10 elements:
  41 |     await expect(usageCell).toHaveText('0');
  42 |     await this.page.close();
  43 |
  44 |   }
  45 | }
  46 |
```